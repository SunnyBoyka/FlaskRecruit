<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>New Process Creation Page</title>
                <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
		
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css" />
	         
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script  type="text/javaScript" src=" https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/js/bootstrap-select.min.js"></script>




        <style>
            #wrapper {
  overflow-x: hidden;
}
a{
    text-decoration: none;
    color:rgb(253, 250, 250);
}
#sidebar-wrapper {
  min-height: 100vh;
  margin-left: -16rem;
  transition: margin 0.25s ease-out;
}

#sidebar-wrapper .sidebar-heading {
  padding: 0.875rem 1.25rem;
  font-size: 1.2rem;
}

#sidebar-wrapper .list-group {
  width: 16rem;
}

#page-content-wrapper {
  min-width: 100vw;
}

body.sb-sidenav-toggled #wrapper #sidebar-wrapper {
  margin-left: 0;
}

@media (min-width: 768px) {
  #sidebar-wrapper {
    margin-left: 0;
  }


  #page-content-wrapper {
    min-width: 0;
    width: 100%;
  }

  body.sb-sidenav-toggled #wrapper #sidebar-wrapper {
    margin-left: -16rem;
  }
}

.btn {
padding: 10px 16px;
/*background-color: #ada7a7;*/
border: #080808;
cursor: pointer;
font-size: 20px;
}
 
.multiselectbox {
    
    border: 2px gray solid;
    border-radius: 10px;
	cursor: pointer;
	font-size: 20px;
} 
                    
.active, .btn:hover {
        background-color: rgb(22 32 148);
        color: white;
                    }
                    
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

li {
  display: inline;
}

.subheader{
	color:#1515a0;
}

        </style>
    </head>
    <body>
        <div class="d-flex" id="wrapper">
            <div id="page-content-wrapper">
                <!-- Top navigation-->
                               <nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom shadow-sm">
                  <div class="">
                      
                    <div id="myDIV" >					
						<ul>
						   <li>
								<a href='hrheadpage'><i class="fa fa-home" aria-hidden="true">Home </i></a>
						  </li>
						  
						  <li class="active">
								<a href="process">&nbsp;&nbsp;&nbsp;<i class="fa fa-tasks" aria-hidden="true">New Process</i></a>
						 </li>
						  
						  <li>
								<a href="login">&nbsp;&nbsp;&nbsp;<i class="fa fa-sign-out" aria-hidden="true">Logout</i></a>
						  </li>
						</ul>	
                    </div>
                  </div>
              </nav>
                <!-- Page content-->
            </div>
            </div>
                <div class="container-fluid">
                    
                    <h4 class="mt-4 text-center font-weight-bold">New Process Setup</h4>
                    <hr>
                    <div class="row justify-content-evenly mt-4">
               
                    <h4 class="mt-4 text-center font-weight-bold">Basic Information</h4>  
                        
                      

                    <div class="row justify-content-around mt-2" style="padding-left:15%">
                     
                    <div class="col-lg-6"  >
                    <div class="col">
                        <h5 class="xs-2 sm-2 text-left font-weight-bold">Process Information</h5>
                      <!-- <div class="col-sm-8 col-10 mb-1">
                        <label for="client_name" class="form-label">Client Name</label>
                        <input type="text"  class="form-control shadow-sm"  name="client_name" required id="client_name" placeholder="Client Name" />
                      </div> -->
                      <div class="col-sm-8 col-10 mb-1">
                        <label for="process_name" class="form-label subheader">Process Name</label>
                        <input type="text" class="form-control shadow-sm" name="process_name" required id="process_name" placeholder="Process Name" />
                      </div>  
                      <div class="col-sm-8 col-10 mb-1">
                        <label for="ops_manager" class="form-label subheader">OPS Manager</label>
                        <select class="form-control shadow-sm" name="ops_manager" id="ops_manager">
                         <option value="">Choose an Option</option>
                         {% if data is defined %}
                        {% for i in data %}
                      <option value="{{i[0]}}">{{i[0]}}</option>
                            {% endfor %}
                            {% endif %}
                        
                        </select>
                      </div>
                    <div class="col-sm-8 col-10 mb-1">
                      <label for="target_date" class="form-label subheader">Target Date</label>
                      <input type="date" class="form-control shadow-sm" name="target_date" id="target_date"  />
                    </div>   
                  </div>  

                    </div> 				  
                  <div class="col-lg-6">
                                        
                      <h5 class="xs-2 sm-2 text-left font-weight-bold">Budget Information</h5>
                     
                      <div class="col">
                    <div class=" justify-content-around mt-3">
                      <!-- <div class="col-sm-8 col-10 mb-1">
                        <label for="client_name" class="form-label">Overall Budget</label>
                        <input type="text" class="form-control shadow-sm" onchange="overallbudget()" name="overall_budget" id="overall_budget"  placeholder="Ex : 5000000" />
                      </div>  -->
                      <div class="col-sm-8 col-10 mb-1">
                        <label for="client_name" class="form-label subheader">Salary Budget</label>
                        <input type="text" class="form-control shadow-sm" name="salary_budget" onchange="salarybudget()" id="salary_budget" placeholder="Your Budget" readonly />
                      </div>                         
                      </div>  
                    </div>
                  </div>                                   
                    </div>
				</div>

<hr/>
                    <div class="justify-content-around mt-2"  style="padding-top:1%;padding-left:15%;">
					
                     <div class="row">
                      <div class="col-lg-8" >
                      <div class="col">
                        <h5 class="xs-2 sm-2 text-left font-weight-bold">Resource Requirement Information</h5>
                        <div class="col-sm-12">
						
						<select class="selectpicker col-lg-12 mb-1 multiselectbox" multiple aria-label="multiple select example" id="jobroles" name="jobroles" title="Please Select Resource" onchange="collectresselection()"> 
							  {% for i in data2 %}
								<option value="{{i[0]}}">{{i[0]}}</option>
							  {% endfor %}
						</select>
						<br/>
						Selected Options <br/><label id="selres"></label>
                          
                         <!--
						 <select id="jobroles" name="jobroles"  class="multi_select3 col-sm-12"  multiple data-live-search="true">
                            
                        </select>
						
                        
                        <div class="col-sm-12">
                        <input type="submit" value="Generate" class="btn btn-primary " onclick="checkval()">
                      </div>-->
                        </div>  
                    
                  </div>
                </div>
				
				
				
				 <div class="col-lg-4" >
                      <div class="col">						
                        <div class="col-sm-12">
							<br/>
							<br/>
							<input type="submit" value="Generate" class="btn btn-primary col-lg-12 col-sm-12 col-md-12 col-xs-12" onclick="checkval()">
						</div>
                      </div>  
                    
                  </div>
                </div>
				
			   <!--CSR-->
                <div class="col-sm-12 row">
                  <div class="col-sm-6" >
                    <div class="col-sm-10 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm" name="overall_budget" id="CSR" placeholder="CSR Head Count" style="display:none"/>
                </div>
                <div class="col-sm-10 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm"  name="regular" id="regular" placeholder="Regular Head Count" onchange="checkcsrcount()" style="display:none"/>
                </div>
                <div class="col-sm-10 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm"  name="buffer" id="buffer" placeholder="Buffer Head Count" style="display:none" onchange="checkcsrcount()"/>
                </div>
               
              
                </div>
				  <div class="col-sm-6" style="padding-top: 2%;">


                  <div class="col-sm-10 col-10 mb-1">
                  
                    <div class="col-lg-6 col-10 mb-1">
                      <input type="text" class="form-control shadow-sm" name="minimum_salary1" id="csrminimum_salary" placeholder="CSR Minimum Salary" style="display:none" />
                  </div>
                  <div class="col-lg-6 col-6 mb-1">
                  
                    <input type="text" class="form-control shadow-sm"  name="csrmaximum_salary" id="csrmaximum_salary" onchange="checksalary()" placeholder="CSR Maximum Salary" style="display:none"/>
                  </div>
                  </div>
				
                </div>
               </div>
			   
			   
			   
			   <!--Supervisor-->
                <div class="col-sm-12 row">
			     <div class="col-sm-6" style="padding-top: 2%;">
				
                <div class="col-sm-10 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm" name="overall_budget" id="Supervisor" placeholder="Sup Head Count" style="display:none"/>
                  
                </div>
                 
              
                </div>
                 <div class="col-sm-6" style="padding-top: 2%;" >


				
                <div class="col-sm-10 col-10 mb-1">

                  <div class="col-lg-6 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm"  name="minimum_salary2" id="supminimum_salary" placeholder="Sup Minimum Salary" style="display:none" />
                </div>
                <div class="col-lg-6 col-6 mb-1">
                
                  <input type="text" class="form-control shadow-sm"  name="maximum_salary2" id="supmaximum_salary" onchange="checksalary()" placeholder="Sup Maximum Salary" style="display:none"/>
                </div>
                </div>
            
                </div>
               </div>		   
			 
			   
			   <!--Team Lead-->
                <div class="col-sm-12 row">
			     <div class="col-sm-6" style="padding-top: 2%;">
				
                 <div class="col-sm-10 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm" name="overall_budget" id="tl" placeholder="TL Head Count"  style="display:none"/>
                  
                </div>
            
              
                </div>
                 <div class="col-sm-6" style="padding-top: 2%;" >
				<div class="col-sm-10 col-10 mb-1">
                  <div class="col-lg-6 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm"  name="minimum_salary3" id="tlminimum_salary" placeholder="TL Minimum Salary" style="display:none"/>
               </div>
               <div class="col-lg-6 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm"   name="maximum_salary3" id="tlmaximum_salary" onchange="checksalary()"   placeholder="TL Maximum Salary" style="display:none" />
                </div>
                </div>
				
                </div>
               </div>
			   
			     
			   <!--Operations Manager-->
			    <div class="col-sm-12 row">
			     <div class="col-sm-6" style="padding-top: 2%;">
				   <div class="col-sm-10 col-10 mb-1">
					  <input type="text" class="form-control shadow-sm" name="overall_budget" id="mgr" placeholder="Manager Head Count" style="display:none"/>
					</div>
                </div>
                 <div class="col-sm-6" style="padding-top: 2%;" >
					<div class="col-sm-10 col-10 mb-1">
					  <div class="col-lg-6 col-10 mb-1">
					  <input type="text" class="form-control shadow-sm"  name="minimum_salary3" id="mgrminimum_salary" placeholder=" Manager Minimum Salary" style="display:none" />
				   </div>
						<div class="col-lg-6 col-10 mb-1">
					  <input type="text" class="form-control shadow-sm"   name="maximum_salary3" id="mgrmaximum_salary" onchange="checksalary()"   placeholder="Manager Maximum Salary" style="display:none" />
					  </div>
					</div>
				</div>

               </div>
			   
			     
			   <!--Assistant Manager-->
			    <div class="col-sm-12 row">
			     <div class="col-sm-6" style="padding-top: 2%;">
				
                  
				<div class="col-sm-10 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm" name="overall_budget" id="astmgr" placeholder="Assistant Manager Head Count" style="display:none" />
                </div>
          
              
                </div>
                 <div class="col-sm-6" style="padding-top: 2%;" >
					<div class="col-sm-10 col-10 mb-1">
					  <div class="col-lg-6 col-10 mb-1">
					  <input type="text" class="form-control shadow-sm"  name="minimum_salary3" id="astmgrminimum_salary" placeholder="Assistant Manager Minimum Salary" style="display:none" />
					  </div>
					  <div class="col-lg-6 col-10 mb-1">
					  <input type="text" class="form-control shadow-sm"   name="maximum_salary3" id="astmgrmaximum_salary"   placeholder="Assistant Manager Maximum Salary" onchange="checksalary()" style="display:none" />
					</div>
				</div>

               
                </div>
               </div>
			   
			     
			   <!--MIS-->
			    <div class="col-sm-12 row">
			     <div class="col-sm-6" style="padding-top: 2%;">
					<div class="col-sm-10 col-10 mb-1">
						<input type="text" class="form-control shadow-sm" name="overall_budget" id="mis" placeholder="MIS Head Count" style="display:none"/>
                    </div>	
                </div>
                 <div class="col-sm-6" style="padding-top: 2%;" >

                <div class="col-sm-10 col-10 mb-1">
                  <div class="col-lg-6 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm"  name="minimum_salary3" id="MISminimum_salary" placeholder=" MIS  Minimum Salary" style="display:none" />
                 </div>
                 <div class="col-lg-6 col-10 mb-1">
                  <input type="text" class="form-control shadow-sm"   name="maximum_salary3" id="MISmaximum_salary" onchange="checksalary()"   placeholder=" MIS Maximum Salary" style="display:none" />
                </div>
				
                </div>
				
                </div>
               </div>
			   
			   
			   </div>
                     
                                           
                    
        
                        

                    <div class="my-3 text-center"style="padding-top: 3%">
                      <button id="btn_proccreate" class="btn btn-primary col-4" style="background-color:#24a0ed">Create Process</button>
                    </div>


                
                
            </div>
        </div>
        <script>
           $(document).ready(function(){
              $('.multi_select3').selectpicker();  
          })
		  
		  
		  
		  function collectresselection()
		  {
			  var select = document.getElementById('jobroles');	
			  var selected = [...select.selectedOptions]
                    .map(option => option.value);
			 document.getElementById('selres').innerHTML=selected;
		  }

          function checkval()
          {
			  debugger;
			  var checked3 = document.querySelectorAll('#jobroles :checked');
			  var selected3 = [...checked3].map(option => option.value);
			  
			 
			   

				for (var j=0;j<selected3.length;j++)
				{

				

				if(selected3[j]=="Customer Service Representative")
				{
				  document.getElementById('CSR').style.display='block'
				  document.getElementById('regular').style.display='block'
				  document.getElementById('buffer').style.display='block'
				  document.getElementById('csrminimum_salary').style.display='block'
				  document.getElementById('csrmaximum_salary').style.display='block'
				  
				   
				}
  
				else if(selected3[j]=="Team Leader")
				{
				  document.getElementById('tl').style.display='block'
				  document.getElementById('tlminimum_salary').style.display='block'
				  document.getElementById('tlmaximum_salary').style.display='block'
				  
  
				}
  
				else if (selected3[j]=="Supervisor")
				{
				  document.getElementById('Supervisor').style.display='block'
				  document.getElementById('supminimum_salary').style.display='block'
				  document.getElementById('supmaximum_salary').style.display='block'
				  
				 
				}
				else if (selected3[j]=="Assistant Operations Manager")
				{
				  document.getElementById('astmgr').style.display='block'
				  document.getElementById('astmgrminimum_salary').style.display='block'
				  document.getElementById('astmgrmaximum_salary').style.display='block'
				  
				 
				}
				else if (selected3[j]=="Operations Manager")
				{
				  document.getElementById('mgr').style.display='block'
				  document.getElementById('mgrminimum_salary').style.display='block'
				  document.getElementById('mgrmaximum_salary').style.display='block'
				  
				 
				}
				else if (selected3[j]=="MIS")
				{
				  document.getElementById('mis').style.display='block'
				  document.getElementById('MISminimum_salary').style.display='block'
				  document.getElementById('MISmaximum_salary').style.display='block'
				  
				}
				
				else
				{
				  document.getElementById('CSR').style.display='none'
				  document.getElementById('regular').style.display='none'
				  document.getElementById('buffer').style.display='none'
				  document.getElementById('csrminimum_salary').style.display='none'
				  document.getElementById('csrmaximum_salary').style.display='none'
				  document.getElementById('tl').style.display='none'
				  document.getElementById('tlminimum_salary').style.display='none'
				  document.getElementById('tlmaximum_salary').style.display='none'
				  document.getElementById('Supervisor').style.display='none'
				  document.getElementById('supminimum_salary').style.display='none'
				  document.getElementById('supmaximum_salary').style.display='none'
				  document.getElementById('astmgr').style.display='none'
				  document.getElementById('astmgrminimum_salary').style.display='none'
				  document.getElementById('astmgrmaximum_salary').style.display='none'
				  document.getElementById('mgr').style.display='none'
				  document.getElementById('mgrminimum_salary').style.display='none'
				  document.getElementById('mgrmaximum_salary').style.display='none'
				  document.getElementById('mis').style.display='none'
				  document.getElementById('MISminimum_salary').style.display='none'
				  document.getElementById('MISmaximum_salary').style.display='none'
				  
				}
			  }
			}
			
			function checkcsrcount()
			{		
				debugger;		
                 var tot_csr=document.getElementById('CSR').value;
				 tot_csr=parseInt(tot_csr);
				 var regular=document.getElementById('regular').value;
				 regular=parseInt(regular);
				 var buffer=document.getElementById('buffer').value;
				 if(buffer=="")
				 {
					buffer=0;
				 }
				 else{
					buffer=parseInt(buffer);
				 }
				 var tcsr=regular+buffer;
				 if(regular>tot_csr)
				 {
					alert("Regular count cannot exceed total CSR count");
				 }
				 else if(buffer>tot_csr)
				 {
					alert("Buffer count cannot exceed total CSR count");
				 }
				 else if(tcsr>tot_csr || tcsr<tot_csr)
				 {
					alert("Regular + Buffer should be equal to total CSR count");
				 }
				 
			}
        
          
            function checksalary()
            {
				debugger;
                  
                 var tot_csr=document.getElementById('CSR').value;
				 var tot_sup=document.getElementById('Supervisor').value;
				 var tot_tl=document.getElementById('tl').value;
				 var tot_astmgr=document.getElementById('astmgr').value;
				 var tot_mgr=document.getElementById('mgr').value;
				 var tot_mis=document.getElementById('mis').value;
				 var csr_max=document.getElementById('csrmaximum_salary').value;
				 var tl_max=document.getElementById('tlmaximum_salary').value;
				 var sup_max=document.getElementById('supmaximum_salary').value;				 
				 var ast_max=document.getElementById('astmgrmaximum_salary').value;
				 var mgr_max=document.getElementById('mgrmaximum_salary').value;
				 var mis_max=document.getElementById('MISmaximum_salary').value;
				 

				var newval=(tot_csr*csr_max)*12
				var newval2=(tot_sup*sup_max)*12
				var newval3=(tot_tl*tl_max)*12
				var newval4=(tot_astmgr*ast_max)*12
				var newval5=(tot_mgr*mgr_max)*12
				var newval6=(tot_mis*mis_max)*12
				var tot_budget=newval+newval2+newval3+newval4+newval5+newval6
				//alert(newvals)
				document.getElementById("salary_budget").value = tot_budget;

            }




         


            


    
        </script>
        
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
       
<script>




    
	
	
	
var today = new Date();
var dd = today.getDate();
dd=parseInt(dd);
dd=dd+1;
var mm = today.getMonth() + 1; //January is 0!
var yyyy = today.getFullYear();

if (dd < 10) {
   dd = '0' + dd;
}

if (mm < 10) {
   mm = '0' + mm;
} 
    
today = yyyy + '-' + mm + '-' + dd;
document.getElementById("target_date").setAttribute("min", today);
</script>

	<script src="/static/api/restapi.js"></script>
    </body>
</html>
